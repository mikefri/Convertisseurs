<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AudioConvert Pro | Conversion R√©elle MP3 & WAV</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/coi-serviceworker/0.1.7/coi-serviceworker.min.js"></script>
    
    <script src="https://unpkg.com/@ffmpeg/ffmpeg@0.11.6/dist/ffmpeg.min.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="app-container">
        <header>
            <button id="theme-switch" class="theme-toggle">üåô Mode Sombre</button>
            <h1 class="logo">üéµ AudioConvert <span>Pro</span></h1>
            <p class="subtitle">Compression r√©elle par <strong>Micfri</strong> ‚Ä¢ 100% Local & S√©curis√©</p>
        </header>

        <main>
            <div id="drop-zone" class="upload-section">
                <input type="file" id="upload" accept="audio/*" hidden>
                <label for="upload" class="upload-card">
                    <div class="icon-circle">üéôÔ∏è</div>
                    <h2>Glissez votre musique ici</h2>
                    <p>FLAC, WAV, MP3, OGG...</p>
                    <div class="format-badges">
                        <span class="badge">VRAIE COMPRESSION MP3</span>
                    </div>
                </label>
            </div>

            <div id="preview-container" class="editor-grid" style="display:none;">
                <div class="preview-card">
                    <div class="audio-info-box">
                        <div class="audio-icon-large">üíø</div>
                        <h2 id="audio-filename">fichier.flac</h2>
                        <div class="progress-container">
                            <div id="audio-progress-fill"></div>
                        </div>
                        <audio id="main-audio" controls style="width: 100%;"></audio>
                    </div>
                </div>

                <div class="sidebar">
                    <div class="control-group">
                        <h3>üì¶ Format de sortie</h3>
                        <select id="format-select">
                            <option value="mp3">MP3 (Haute Compatibilit√©)</option>
                            <option value="wav">WAV (Sans perte - lourd)</option>
                        </select>
                    </div>

                    <div class="control-group">
                        <h3>üîä Qualit√© du Bitrate</h3>
                        <div class="label-row">
                            <span>Cible</span>
                            <b id="bitrate-value">320 kbps</b>
                        </div>
                        <input type="range" id="bitrate-range" min="64" max="320" step="64" value="320">
                        <div class="file-info">Taille estim√©e : <span id="est-size">--</span></div>
                    </div>

                    <div class="actions">
                        <button id="download-btn" class="btn-primary">üì• Lancer la conversion</button>
                        <button onclick="location.reload()" class="btn-ghost" style="margin-top:10px; width:100%;">üóëÔ∏è Annuler</button>
                    </div>
                </div> 
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>
